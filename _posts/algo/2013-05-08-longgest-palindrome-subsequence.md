---
layout: post
title: "最长回文子序列"
description: ""
category: algorithm
tags: [alog, dp]
---
{% include JB/setup %}

子序列是从最初序列通过去除某些元素但不破坏余下元素的相对位置而形成的新序列。

从给定的串中找出最长回文子序列.

##naive的方法

dp[i][j] 表示以str[i]为起始位置, str[j]为终止的最长回文子序列的长度.

可以有以下的递推公式:

    if (str[i] == str[j])
        dp[i][j] = 1 + max(dp[s][t])
                       i < s <= t < j
    else
        dp[i][j] = 0;

最大的dp[i][j]就是最长回文子序列的长度.

这样的时间复杂是O(n^4).
因为有O(n^2)个子问题, 每个子问题, 需要O(n^2)的时间.


##转化为最长公共子序列

枚举对称点(注意长度为奇数和偶数), 以对称点为分割点, 把右边的字串逆过来.

显然求出了这两个串的最长公共子序列, 就求出了回文自学列的长度.

最长公共字串的时间复杂度为O(n^2).

有O(n)个子问题, 因此时间复杂度是O(n^3)

##还有更好的方法?

还没想出来...
